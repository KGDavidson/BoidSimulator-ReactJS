(this.webpackJsonpboidsim=this.webpackJsonpboidsim||[]).push([[0],{10:function(t,i,h){},11:function(t,i,h){},13:function(t,i,h){"use strict";h.r(i);var s,e=h(0),a=h.n(e),n=h(3),c=h.n(n),r=(h(10),h(4)),o=h(5),l=(h(11),h(1)),u=window.innerWidth,f=window.innerHeight,x=function(){function t(i,h,s,e,a){Object(r.a)(this,t),this.ctx=i,this.x=h,this.y=s,this.r=e,this.speed=7,this.checkPercent=.7,this.checkRadius=100,this.special=a,this.scale=1.5,this.separationAngVel=6,this.alignmentAngVel=4,this.cohesionAngVel=5,this.wallCheckAngVel=3,this.colour="rgb("+M(111,195)+","+M(8,34)+","+M(63,50)+")"}return Object(o.a)(t,[{key:"setSpecial",value:function(t){this.special=t}},{key:"draw",value:function(){this.ctx.translate(this.x,this.y),this.ctx.rotate(this.r),this.ctx.beginPath(),this.ctx.moveTo(12.5*this.scale,0),this.ctx.lineTo(-5*this.scale,-5*this.scale),this.ctx.lineTo(-2.5*this.scale,0),this.ctx.lineTo(-5*this.scale,5*this.scale),this.ctx.closePath(),this.special&&(this.ctx.strokeStyle="#ffffff",this.ctx.lineWidth=3,this.ctx.stroke()),this.ctx.fillStyle=this.colour,this.ctx.fill(),this.ctx.rotate(-this.r),this.ctx.translate(-this.x,-this.y)}},{key:"drawSpecialLine",value:function(t){this.special&&(this.ctx.strokeStyle="#ffffff",this.ctx.lineWidth=2,this.ctx.beginPath(),this.ctx.moveTo(this.x,this.y),this.ctx.lineTo(t.x,t.y),this.ctx.stroke(),this.ctx.closePath())}},{key:"move",value:function(){this.r+=g(M(-2,2)),this.x+=this.speed*Math.cos(this.r),this.y+=this.speed*Math.sin(this.r)}},{key:"normaliseAngle",value:function(t){return t>180&&(t-=360),t<-180&&(t+=360),t}},{key:"wallCheck",value:function(){var t=this.y+2*this.checkRadius>f,i=this.y-2*this.checkRadius<0,h=this.x-2*this.checkRadius<0,s=this.x+2*this.checkRadius>u;if(t|i){var e=[Math.cos(this.r),Math.sin(this.r)],a=[0,1],n=d(Math.atan2(a[1],a[0])-Math.atan2(e[1],e[0]));if(n>180&&(n-=360),n<-180&&(n+=360),Math.abs(n)<180*this.checkPercent){var c=n;i&&(c=-n),this.r-=Math.abs(c)/c*g(this.wallCheckAngVel)}}if(s|h){var r=[Math.cos(this.r),Math.sin(this.r)],o=[1,0],l=d(Math.atan2(o[1],o[0])-Math.atan2(r[1],r[0]));if(l>180&&(l-=360),l<-180&&(l+=360),Math.abs(l)<180*this.checkPercent){var x=l;h&&(x=-l),this.r-=Math.abs(x)/x*g(this.wallCheckAngVel)}}this.x<0&&(this.x+=u),this.x>u&&(this.x-=u),this.y<0&&(this.y+=f),this.y>f&&(this.y-=f)}},{key:"separation",value:function(t){var i=[Math.cos(this.r),Math.sin(this.r)],h=[t.x-this.x,t.y-this.y],s=d(Math.atan2(h[1],h[0])-Math.atan2(i[1],i[0]));s=this.normaliseAngle(s),Math.abs(s)<180*this.checkPercent&&(this.r-=Math.abs(s)/s*g(this.separationAngVel))}},{key:"alignment",value:function(t){var i=t.r-this.r;this.r+=Math.abs(i)/i*g(this.alignmentAngVel)}},{key:"cohesion",value:function(t,i){var h=[v(t)/t.length,v(i)/i.length],s=[Math.cos(this.r),Math.sin(this.r)],e=[h[0]-this.x,h[1]-this.y],a=d(Math.atan2(e[1],e[0])-Math.atan2(s[1],s[0]));a=this.normaliseAngle(a),Math.abs(a)<180*this.checkPercent&&(this.r+=Math.abs(a)/a*g(this.cohesionAngVel))}}]),t}();function M(t,i){return t+Math.random()*(i-t)}function g(t){return t*Math.PI/180}function d(t){return t/Math.PI*180}function v(t){return t.reduce((function(t,i){return t+i}),0)}var k=function(){var t=Object(e.useRef)(null);return Object(e.useEffect)((function(){var i=t.current,h=i.getContext("2d");s=function(t,i){for(var h=[],s=0;s<i;s++)h.push(new x(t,M(100,u-100),M(100,f-100),g(M(0,360)),!1));return h[Math.round(M(0,h.length))].setSpecial(!0),h}(h,150);!function t(){h.clearRect(0,0,i.width,i.height);for(var e=0;e<s.length;e++){for(var a=[],n=[],c=0;c<s.length;c++){var r=Math.sqrt(Math.pow(s[e].x-s[c].x,2)+Math.pow(s[e].y-s[c].y,2));s[e]!==s[c]&&Math.abs(r)<s[e].checkRadius&&(s[e].drawSpecialLine(s[c]),a.push(s[c].x),n.push(s[c].y),s[e].alignment(s[c]),s[e].separation(s[c]))}s[e].cohesion(a,n),s[e].draw(),s[e].move(),s[e].wallCheck()}requestAnimationFrame(t)}()}),[]),Object(l.jsx)("canvas",{id:"canvas",ref:t,width:u,height:f})},y=function(t){t&&t instanceof Function&&h.e(3).then(h.bind(null,14)).then((function(i){var h=i.getCLS,s=i.getFID,e=i.getFCP,a=i.getLCP,n=i.getTTFB;h(t),s(t),e(t),a(t),n(t)}))};c.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(k,{})}),document.getElementById("root")),y()}},[[13,1,2]]]);
//# sourceMappingURL=main.4d35d560.chunk.js.map